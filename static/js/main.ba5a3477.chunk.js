(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(2),s=n(1),i=n(0),d=function(e){return Object(i.jsx)("p",{id:"display",children:e.curr})},u=n(3),o=n.n(u),l=n(4),j=function(e){var t=Object(s.useState)(0),n=Object(r.a)(t,2),a=n[0],c=n[1];Object(s.useEffect)((function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}}));var d=function(t){e.power&&t.keyCode===e.idKey&&u()},u=function(){e.handleDisplay(e.desc),j()},j=function(){var t=Object(l.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById(e.id),a=Math.round(1e3*n.duration),n.currentTime=0,c(a),n.play(),t.next=7,new Promise((function(e){return setTimeout(e,a)}));case 7:c(0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"drum-pad",id:"".concat(e.id,"butt"),onClick:function(){e.power&&u()},children:[Object(i.jsx)("p",{className:"pad-id",children:e.id}),Object(i.jsx)("audio",{className:"clip",id:e.id,src:e.url}),Object(i.jsx)("div",{className:"animHelper",style:{animation:a?"activated ".concat(a,"ms"):"none"}})]})},p=function(e){var t=Object(s.useState)([]),n=Object(r.a)(t,2),a=n[0],c=n[1],d=Object(s.useState)("https://raw.githubusercontent.com/MatchaCrisp/DrumMachine/main/src/data/soundBite.json"),u=Object(r.a)(d,1)[0];Object(s.useEffect)((function(){u&&function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.soundBite);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch(console.log)}),[u]);var p=a.map((function(t){return function(t){return Object(i.jsx)(j,{idKey:t.idKey,id:t.id,url:e.bank?t.url1:t.url2,desc:e.bank?t.desc1:t.desc2,power:e.power,handleDisplay:e.handleDisplay},t.idKey)}(t)}));return Object(i.jsx)("div",{id:"drum-pads",className:e.bank?"app-pads1":"app-pads2",children:p})},b=function(e){return Object(i.jsxs)("div",{className:"tog",children:[Object(i.jsx)("input",{type:"checkbox",className:"tog-check",name:e.name,id:e.id,disabled:e.dis,defaultChecked:e.checky,onChange:e.handleChange}),Object(i.jsxs)("label",{className:"tog-label",htmlFor:e.id,children:[Object(i.jsx)("span",{className:"tog-inner",datacustattrt:e.tTxt,datacustattrf:e.fTxt}),Object(i.jsx)("span",{className:"tog-switch"})]})]})},h=function(e){return Object(i.jsxs)("div",{id:"ctrl-pad",children:[Object(i.jsx)(b,{name:"powerTog",id:"powerSwit",handleChange:e.handlePower,checky:e.power,tTxt:"ON",fTxt:"OFF"}),Object(i.jsx)(b,{name:"bankTog",id:"bankSwit",handleChange:e.handleBank,checky:e.bank,tTxt:"\xa0\xa01",fTxt:"2\xa0\xa0\xa0"})]})},m=function(e){return Object(i.jsxs)("div",{id:"drum-machine",children:[Object(i.jsx)(d,{curr:e.curr}),Object(i.jsx)(p,{handleDisplay:e.handleDisplay,power:e.power,bank:e.bank}),Object(i.jsx)(h,{handlePower:e.handlePower,handleBank:e.handleBank,power:e.power,bank:e.bank})]})},f=function(){var e=Object(s.useState)(!0),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!0),d=Object(r.a)(c,2),u=d[0],o=d[1],l=Object(s.useState)(""),j=Object(r.a)(l,2),p=j[0],b=j[1];return Object(i.jsx)("div",{id:"app",className:u?"app-bank1":"app-bank2",children:Object(i.jsx)(m,{handlePower:function(e){a(e.target.checked),b("")},handleBank:function(e){o(e.target.checked),b("")},handleDisplay:function(e){b(e)},power:n,bank:u,curr:p})})};n(13);c.a.render(Object(i.jsx)(f,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.ba5a3477.chunk.js.map