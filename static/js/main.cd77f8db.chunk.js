(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{13:function(e,t,n){},7:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(5),s=n(2),i=n(1),d=n(6),u=n.n(d),o=(n(13),n(0)),j=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!0),r=Object(s.a)(c,2),d=r[0],u=r[1];return Object(o.jsx)("div",{id:"app",className:d?"app-bank1":"app-bank2",children:Object(o.jsx)(l,{handlePower:function(e){a(e.target.checked)},handleBank:function(e){u(e.target.checked)},power:n,bank:d})})},l=function(e){var t=Object(i.useState)(""),n=Object(s.a)(t,2),a=n[0],c=n[1];return Object(o.jsxs)("div",{id:"drum-machine",children:[Object(o.jsx)(h,{curr:a}),Object(o.jsx)(f,{handleDisplay:function(e){c(e)},power:e.power,bank:e.bank}),Object(o.jsx)(p,{handlePower:e.handlePower,handleBank:e.handleBank,power:e.power,bank:e.bank})]})},p=function(e){return Object(o.jsxs)("div",{id:"ctrl-pad",children:[Object(o.jsx)(b,{name:"powerTog",id:"powerSwit",handleChange:e.handlePower,checky:e.power,tTxt:"ON",fTxt:"OFF"}),Object(o.jsx)(b,{name:"bankTog",id:"bankSwit",handleChange:e.handleBank,checky:e.bank,tTxt:"\xa0\xa01",fTxt:"2\xa0\xa0\xa0"})]})},b=function(e){return Object(o.jsxs)("div",{className:"tog",children:[Object(o.jsx)("input",{type:"checkbox",className:"tog-check",name:e.name,id:e.id,disabled:e.dis,defaultChecked:e.checky,onChange:e.handleChange}),Object(o.jsxs)("label",{className:"tog-label",htmlFor:e.id,children:[Object(o.jsx)("span",{className:"tog-inner",datacustattrt:e.tTxt,datacustattrf:e.fTxt}),Object(o.jsx)("span",{className:"tog-switch"})]})]})},h=function(e){return Object(o.jsx)("p",{id:"display",children:e.curr})},f=function(e){var t=Object(i.useState)([]),n=Object(s.a)(t,2),a=n[0],d=n[1],u=Object(i.useState)("https://raw.githubusercontent.com/MatchaCrisp/DrumMachine/main/src/data/soundBite.json"),j=Object(s.a)(u,1)[0];Object(i.useEffect)((function(){j&&function(){var e=Object(r.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,d(n.soundBite);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch(console.log)}),[j]);var l=a.map((function(t){return function(t){return Object(o.jsx)(m,{idKey:t.idKey,id:t.id,url:e.bank?t.url1:t.url2,desc:e.bank?t.desc1:t.desc2,power:e.power,handleDisplay:e.handleDisplay},t.idKey)}(t)}));return Object(o.jsx)("div",{id:"drum-pads",className:e.bank?"app-pads1":"app-pads2",children:l})},m=function(e){var t=Object(i.useState)(0),n=Object(s.a)(t,2),a=n[0],d=n[1];Object(i.useEffect)((function(){return document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}}));var u=function(t){e.power&&t.keyCode===e.idKey&&j()},j=function(){e.handleDisplay(e.desc),l()},l=function(){var t=Object(r.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById(e.id),a=Math.round(1e3*n.duration),n.currentTime=0,d(a),n.play(),t.next=7,new Promise((function(e){return setTimeout(e,a)}));case 7:d(0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"drum-pad",id:"".concat(e.id,"butt"),onClick:function(){e.power&&j()},children:[Object(o.jsx)("p",{id:"pad-id",children:e.id}),Object(o.jsx)("audio",{className:"clip",id:e.id,src:e.url}),Object(o.jsx)("div",{id:"animHelper",style:{animation:a?"activated ".concat(a,"ms"):"none"}})]})};u.a.render(Object(o.jsx)(j,{}),document.getElementById("root"))}},[[7,1,2]]]);
//# sourceMappingURL=main.cd77f8db.chunk.js.map